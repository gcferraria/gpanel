!function(t){function i(){return this.replace(/^[a-z]/,function(t){return t.toUpperCase()})}var e=my.Class({attach:function(t,e){return void 0!==e?(v.call(this,e,0,t),t):f.call(this,t)},dettach:function(t){if(void 0===t)return l.call(this);var e=d.call(this,t);return void 0!==e?v.call(this,e,1).pop():void 0},toArray:function(){return b.call(this)},length:0}),o=my.Class(e,{constructor:function(t){return this.parent=t,o.Super.call(this)},attach:function(t){var e=new h.$(t);e.removeClass("template"),e.remove();var i=e.attr("data-jsb-clone");i&&(t=x.call(this,i).clone(),e=new h.$(t));var s=p(e);return void 0!==s&&(this["$"+s]=e),o.Super.prototype.attach.call(this,e)},dettach:function(t){var e=o.Super.prototype.dettach.call(this,t);if(void 0!==e){var i=p(e);if(e.remove(),void 0!==i)delete this["$"+i];e=null}},destructor:function(){for(;this.length;)this.dettach();this.parent=null}}),s=my.Class({push:function(t){return f.call(this,t)},execute:function(){for(;queued=m.call(this);)switch(typeof queued){case"function":queued()}},length:0}),a={},c=[],u={},h=my.Class(e,{STATIC:{$:function(t){return new jQuery(t)},byGuid:function(t){return void 0!==t&&c[t]},byClass:function(t){return void 0===t?[]:(u[t]||[]).slice(0)},object:function(t,e){return!!t&&("JsB"===t?h:("function"==typeof e&&e.constructor&&(a[t]=e),a[t]))}},constructor:function(t,e){return this.caller=e,this.$=h.$(t),w.call(this),S.call(this),this.template=new o(this),this.queue=new s(this),g.call(this,this.$),this.queue.execute(),this.template.length||delete this.template,delete this.queue,this.select.toggle=k,this.deselect.toggle=k,!0},attach:function(t,e,i){var s=new h.$(t);if(s.hasClass("template"))return this.template.attach(s);var o=s.attr("data-jsb-clone");o&&(t=(a=x.call(this,o)).clone(),s.remove(),s=new h.$(t),this.$.append(s));var a,n=s.attr("data-jsb-class")||"JsB",r=h.object(n);if(null==r)throw'Class "'+n+'" not found!';if(!((a=new r(s,this))instanceof h))return null;void 0===a.name&&(a.name=e||p(s)),a.className=n,a.guid=c.length,c.push(a),void 0===u[n]&&(u[n]=[]),u[n].push(a),a.isTransparent||(void 0!==a.name&&(a.parent["$"+a.name]=a),h.Super.prototype.attach.call(a.parent,a,i));var l=s.attr("data-jsb-context");return l&&(a.contextName=l,a.context[l]=a),a},bind:function(t,i){i=i||this[t];var s=this;this.$.bind(t,function(t,e){return i.call(s,t,e)})},clone:function(){var t=this.$.clone();return new this.constructor(t,this.caller)},deselect:function(t){switch(t){case!1:case void 0:return this.$.removeClass("selected"),this;case!0:for(children=this.selected(!0);t=children.shift();)t.deselect();return t;default:return!1!==(t=y.call(this,t))?t.deselect():t}},destructor:function(){for(;this.length;)this.dettach();var t=d.call(c,this);0<=t&&(c[t]=null,c.splice(t,1));var e=u[this.className],i=d.call(e,this);0<=i&&(e[i]=null,e.splice(i,1)),this.$.remove(),this.$=null,this.caller=null,this.context=null,this.parent=null,this.root=null;var s=this.template;s&&s.destructor(),this.template=null},dettach:function(t){var e=h.Super.prototype.dettach.call(this,t);if(void 0!==e){void 0!==e.name&&delete this["$"+e.name];var i=$.attr("data-jsb-context");i&&(this.contextName=i,e.context[i]=this),e.contextName&&delete e.context[e.contextName],e.destructor(),e=null}},empty:function(){for(;this.length;)this.dettach();return this.value(null),this},hide:function(t){return this.$.hide(),this},hidden:function(t){return this.$.hasClass("hidden")},load:function(e,i){var s=0,o=function(t){(s+=1)==e.length&&"function"==typeof i&&i(),t.target.removeEventListener("load",o)};for(var t in e){var a=e[t],n=document.createElement("script");n.type="text/javascript",n.src=a,n.addEventListener("load",o),document.body.appendChild(n)}},next:function(t){return C.call(this,t)},previous:function(t){return C.call(this,t,!0)},select:function(t){switch(t){case!1:case void 0:var e=this.parent;return void 0===e||e.isMultiple||e.deselect(!0),this.$.addClass("selected"),this;case!0:for(children=this.toArray();t=children.shift();)t.select();return t;default:return!1!==(t=y.call(this,t))?t.select():t}},selected:function(t){return!0===t?r.call(this,function(t){return t.selected()}):this.$.hasClass("selected")},show:function(){return this.$.show(),this},swap:function(t,e){var i=d.call(this,t),s=d.call(this,e);if(-1<i&&-1<s){this[i]=v.call(this,s,1,this[i]).pop();var o=t.$[0],a=e.$[0],n=o.parentNode.insertBefore(document.createTextNode(""),o);return a.parentNode.insertBefore(o,a),n.parentNode.insertBefore(a,n),n.parentNode.removeChild(n),[i,s]}return!1},toggle:function(t,e){var i,s,o=this[t],a=this[e];if("function"!=typeof o)return!1;if(1===arguments.length&&o.hasOwnProperty("toggle"))return o.toggle.call(this);if("function"!=typeof a)return!1;var n=["","toggle",t,e].join("_");return s=!0==(this[n]=!this[n])?(i=o,t):(i=a,e),i.call(this),s},unbind:function(t){this.$.unbind(t)},update:function(t){if(t instanceof Array){this.isReseter&&this.empty();for(var e=0;e<t.length;e++){var i=(n=t[e]).template||0,s=n.name;if(delete n.template,delete n.name,!this.isAppender&&this.hasOwnProperty(e))r=this[e];else{var o=this.template[i].clone();r=this.attach(o,s),this.$.append(r.$)}r.update(n)}}else if(t instanceof Object)for(var a in t){var n=t[a],r=this[a],l=a.match(/^([^\.]+)\.(.+)$/);if(null!==l){a=l[1],r=this[l[1]];var c={};c[l[2]]=n,n=c}r instanceof Function?r.call(this,n):this.hasOwnProperty(a)?r instanceof h?r.update(n):this[a]=n:/^\$/.test(a)||this.$.attr(a,n)}else this.value(t)},value:function(t){return this.$.html(t)},addClass:function(t){this.$.addClass(t)},removeClass:function(t){this.$.removeClass(t)}}),n=Array.prototype,p=function(t){return t.attr("data-jsb-name")||t.attr("id")||t.attr("name")},r=n.filter,d=n.indexOf,l=n.pop,f=n.push,m=n.shift,b=n.slice,v=n.splice,g=(n.toString,function(t){for(var e=b.call(t.children(),0);child=e.shift();){var i=h.$(child);i.attr("data-jsb-class")?this.attach(i):g.call(this,i)}}),y=function(t){switch(typeof t){case"string":case"number":return this.hasOwnProperty(t)?this[t]:!1;case"object":return d.call(this,t)<0?!1:t;default:return!1}},C=function(t,e){if(!t){var i=this.parent;return t=this,i||(i=this,t=!0),C.call(i,t,e)}var s=this.length,o="pop",a=s-1,n=1,r=0;if(!0===e&&(o="shift",a=0,n=-1,r=s-1),!0===t){switch(s){case 0:return!1;case 1:return!(t=this[0]).selected()&&t}var l=this.selected(!0);if(0===l.length)return this[r];t=l[o]()}var c=d.call(this,t);return c!==a&&this[c+n]},S=function(){this.root=j.call(this),this.context=function(){var t=this.caller;return"object"==typeof t?t.isContext?t:t.context:this}.call(this);for(var t=this.caller;"object"==typeof t&&t.isTransparent;)t=t.parent;this.parent=t},x=function(t){if(!t)return!1;t=t.split(/\./);for(var e,i=this;e=t.shift();){if(!i.hasOwnProperty(e))return!1;i=i[e]}return i},j=function(){var t=this.caller;return"object"==typeof t?t.root||t:this},k=function(){var t=this.selected()?"deselect":"select";return this[t](),t},w=function(){var t=this.$.attr("data-jsb-type");if(void 0===t)return!1;for(var e=t.split(" ");t=e.shift();){this["is"+i.call(t)]=!0}return!0};t.JsB=h}(window),function(s){var i=my.Class(s.JsB,{constructor:function(t,e){i.Super.call(this,t,e),this.isRTL=this.isIE8=this.isIE9=this.isIE10=!1,this._init(t)},_init:function(t){"rtl"===$("body").css("direction")&&(this.isRTL=!0),this.isIE8=!!navigator.userAgent.match(/MSIE 8.0/),this.isIE9=!!navigator.userAgent.match(/MSIE 9.0/),this.isIE10=!!navigator.userAgent.match(/MSIE 10.0/),this.isIE10&&$("html").addClass("ie10"),(this.isIE10||this.isIE9||this.isIE8)&&$("html").addClass("ie")},blockUI:function(t,e){var i="";i=(e=$.extend(!0,{},e)).animate?'<div class="loading-message '+(e.boxed?"loading-message-boxed":"")+'"><div class="block-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div>':e.iconOnly?'<div class="loading-message '+(e.boxed?"loading-message-boxed":"")+'"><img src="/img/loading-spinner-grey.gif" align=""></div>':e.textOnly?'<div class="loading-message '+(e.boxed?"loading-message-boxed":"")+'"><span>&nbsp;&nbsp;'+(e.message?e.message:"LOADING...")+"</span></div>":'<div class="loading-message '+(e.boxed?"loading-message-boxed":"")+'"><img src="/img/loading-spinner-grey.gif" align=""><span>&nbsp;&nbsp;'+(e.message?e.message:"LOADING...")+"</span></div>",t.$.height()<=$(s).height()&&(e.centerY=!0),t.$.block({message:i,baseZ:e.zIndex?e.zIndex:1e3,centerY:void 0!==e.centerY&&e.centerY,css:{top:"10%",border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:e.overlayColor?e.overlayColor:"#555",opacity:e.boxed?.05:.1,cursor:"wait"}})},unblockUI:function(t){t.$.unblock({onUnblock:function(){t.$.css("position",""),t.$.css("zoom","")}})},notification:function(t,e){switch(t){case"success":toastr.success(e);break;case"error":toastr.error(e)}},getResponsiveBreakpoint:function(t){var e={xs:480,sm:768,md:992,lg:1200};return e[t]?e[t]:0},getViewPort:function(){var t=s,e="inner";return"innerWidth"in s||(e="client",t=document.documentElement||document.body),{width:t[e+"Width"],height:t[e+"Height"]}},scrollTo:function(t,e){var i=t&&0<t.length?t.offset().top:0;t&&($("body").hasClass("page-header-fixed")?i-=$(".page-header").height():$("body").hasClass("page-header-top-fixed")?i-=$(".page-header-top").height():$("body").hasClass("page-header-menu-fixed")&&(i-=$(".page-header-menu").height()),i+=e||-1*t.height()),$("html,body").animate({scrollTop:i},"slow")}});s.App=i}(window),function(s){var i=my.Class(s,{constructor:function(t,e){i.Super.call(this,t,e),this.maxlength=this.$.attr("maxlength"),null!=this.maxlength&&this.$.maxlength({limitReachedClass:"label label-danger",alwaysShow:!0})},enable:function(){this.$.prop("disabled",!1)},disable:function(){this.$.prop("disabled",!0)}}),o=my.Class(i,{constructor:function(t,e){o.Super.call(this,t,e),this.placeholder=this.$.attr("placeholder")},value:function(t){return t&&this.$.val(t),this.$.val()},reset:function(){this.$.val("")}}),a=my.Class(o,{constructor:function(t,e){a.Super.call(this,t,e)}}),n=my.Class(o,{constructor:function(t,e){n.Super.call(this,t,e);var i=this;i.initialized=!1,this.root.queue.push(function(){i.$.keydown(function(){!1===i.initialized&&(i.$.pwstrength({ui:{showVerdictsInsideProgressBar:!1,showVerdicts:!1}}),i.$.pwstrength("addRule","myRule",function(t,e,i){return e.match(/[a-z].[0-9]/)&&i},10,!0),i.initialized=!0)})})}}),r=my.Class(o,{constructor:function(t,e){r.Super.call(this,t,e),this.enabled=null!=this.value()},reset:function(){this.$.attr("checked",this.enabled)},value:function(){return this.$.attr("checked")}}),l=my.Class(o,{constructor:function(t,e){l.Super.call(this,t,e);var i=this;this.root.queue.push(function(){i.$.TouchSpin({initval:0,min:0,max:200})})},reset:function(){this.$.val(0)}}),c=my.Class(o,{constructor:function(t,e){c.Super.call(this,t,e),this.$.tagsinput({trimValue:!0})}}),u=my.Class(o,{constructor:function(t,e){u.Super.call(this,t,e);var s=this;this.$.fileupload({url:"/media/upload.json",dataType:"json",acceptFileTypes:/(\.|\/)(gif|jpe?g|png|mp4|pdf)$/i,formData:{element:this.$.attr("id")},start:function(t){s.parent.$progress.show(),s.parent.$error.value(null)},always:function(t,e){s.parent.$progress.hide(),s.parent.$progress.$bar.$.css({width:"0%"})},progressall:function(t,e){var i=parseInt(e.loaded/e.total*100,10);s.parent.$progress.$bar.$.css({width:i+"%"})},done:function(t,e){1==e.result.result?s.parent.$files.update({$filename:e.result.filename,$open:{href:e.result.url}}):s.parent.$error.value(e.result.error)}})}}),h=my.Class(i,{constructor:function(t,e){h.Super.call(this,t,e)}}),p=my.Class(i,{constructor:function(t,e){p.Super.call(this,t,e),this.bind("change")},change:function(t){return!1},value:function(t){return t?this.$.val(t):this.$.val()},reset:function(){this.$.val("")},text:function(){return $("option:selected",this.$).text()},addOption:function(t){0<this.$.find('option[value="'+t.value+'"]').length?this.$.find('option[value="'+t.value+'"]').prop("selected",!0):this.$.append($("<option></option>").attr("value",t.value).text(t.text).prop("selected",!0))}}),d=my.Class(i,{constructor:function(t,e){d.Super.call(this,t,e);var i=this;this.root.queue.push(function(){i.$.select2({placeholder:i.$.attr("placeholder"),allowClear:!0,multiple:i.isMultiple,formatResult:i.format,formatSelection:i.format,width:null,theme:"bootstrap"}).on("change",function(t){i.change(t)})})},format:function(t){},change:function(t){},reset:function(){this.$.select2("val","")}}),f=my.Class(d,{constructor:function(t,e){f.Super.call(this,t,e)},format:function(t){return t.text}}),m=my.Class(d,{constructor:function(t,e){s.FLAGS_PATH=jQuery(t).attr("data-flags-path"),m.Super.call(this,t,e)},format:function(t){return t.id?"<img class='flag' src='"+s.FLAGS_PATH+t.id.toLowerCase()+".png'/>&nbsp;&nbsp;"+t.text:t.text}}),b=my.Class(o,{constructor:function(t,e){b.Super.call(this,t,e);var i=this;this.root.queue.push(function(){i.$.find(">:first-child").datetimepicker({autoclose:!0,todayBtn:!0,minuteStep:10,weekStart:1,todayHighlight:!0,language:""+s.APP_LANGUAGE})})}}),e=my.Class(o,{constructor:function(t,a){e.Super.call(this,t,a),this.format=this.$.attr("data-date-format")||"YYYY-MM-DD",this.startDate=this.$.attr("data-start-date")||new Date((new Date).getFullYear(),0,1),this.endDate=this.$.attr("data-end-date")||new Date;var n=this;this.root.queue.push(function(){n.$.daterangepicker({startDate:n.startDate,endDate:n.endDate,maxDate:n.endDate,showDropdowns:!0,timePicker:!1,timePickerIncrement:1,buttonClasses:["btn green-haze"],cancelClass:"default",separator:"  ",locale:{applyLabel:"Aplicar",format:n.format,fromLabel:"De",toLabel:"Até",daysOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],firstDay:1}},function(t,e){$("#dashboard-report-range span").html(t.format(n.format)+" / "+e.format(n.format));for(var i=a.toArray(),s=0;s<i.length;s++){var o=i[$i];void 0!==o.$reload&&o.$reload.click()}a.$visits.$body.$chart.reload(),a.$statistics.reload()}),$("#dashboard-report-range span").html(n.formatDate(n.startDate)+" / "+n.formatDate(n.endDate)),$("#dashboard-report-range").show()})},formatDate:function(t){var e=new Date(t),i=""+(e.getMonth()+1),s=""+e.getDate(),o=e.getFullYear();return i.length<2&&(i="0"+i),s.length<2&&(s="0"+s),[o,i,s].join("-")},value:function(){return this.$.find("span").text()}}),v=my.Class(o,{constructor:function(t,e){v.Super.call(this,t,e),this.format=this.$.attr("data-date-format"),this.separator=this.$.attr("data-separator")||"/";var i=this;this.root.queue.push(function(){i.$.find(">:first-child").daterangepicker({format:i.format,separator:" "+i.separator+" ",locale:{applyLabel:"Aplicar",format:i.format,fromLabel:"De",toLabel:"Até",daysOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],firstDay:1}},function(t,e){i.$field.$.val(t.format(i.format)+" "+i.separator+" "+e.format(i.format))})})}}),g=my.Class(o,{constructor:function(t,e){g.Super.call(this,t,e);var i=this;this.root.queue.push(function(){i.$.iconpicker({hideOnSelect:!0})})}}),y=my.Class(s,{constructor:function(t,e){y.Super.call(this,t,e),this.bind("click")},click:function(t,e){return $.post(this.$.attr("data-url"),{username:this.parent.$field.value()},function(t){},"json"),!1}});s.object("Input",o),s.object("Password",n),s.object("CheckBox",r),s.object("Select",p),s.object("Select2",f),s.object("Textarea",h),s.object("Spinner",l),s.object("DateTime",b),s.object("DateRange",e),s.object("DateRangeInput",v),s.object("Tag",c),s.object("Upload",u),s.object("Country",m),s.object("IconPicker",g),s.object("Email",a),s.object("Username",y)}(JsB),function(t){var s=my.Class(t,{constructor:function(t,e){s.Super.call(this,t,e),this.fields=[],this.action=this.$.attr("action"),this.method=this.$.attr("method")||"post";var i=this;this.root.queue.push(function(){i.fields=i.$fields.toArray()})},submit:function(t){t.preventDefault(),this.$.submit()},redirect:function(t){setTimeout(function(){window.location=t.url},t.duration||0)},disable:function(){for(var t in this.fields){var e=this.fields[t];e.$field&&e.$field.disable()}},enable:function(){for(var t in this.fields){var e=this.fields[t];e.$field&&e.$field.enable()}},show_errors:function(t){if("object"==typeof t)for(var e in this.fields){var i=this.fields[e];if(void 0!==i.$error){var s=t[i.name];void 0!==s?(i.$.addClass("has-error"),i.$error.update(s)):(i.$.removeClass("has-error"),i.$error.update(""))}}},clean_errors:function(){for(var t in this.fields){var e=this.fields[t];void 0!==e.$error&&(e.$.removeClass("has-error"),e.$error.update(""))}},reset:function(){for(var t in this.fields){var e=this.fields[t];e.$.removeClass("has-error"),e.$error&&e.$error.value(null),e.$field&&("function"==typeof(e=e.$field).reset?e.reset(!0):e.$.val(""))}},notification:function(t){app.notification(t[0],t[1])}}),i=my.Class(s,{constructor:function(t,e){i.Super.call(this,t,e),this.async=!0},submit:function(t,e){var i=this,s=this.$.serializeArray();this._request&&this._request.abort(),null!=e&&"object"==typeof e&&s.push(e),this._request=$.ajax({type:this.method,url:this.action,async:this.async,data:s,dataType:"json",beforeSend:function(){i._beforeSend()},error:function(t,e){i._onError(t,e)},complete:function(){i._onComplete()},success:function(t){i._request=null,i._onSuccess(t)}})},show_errors:function(t){i.Super.prototype.show_errors.call(this,t)},_beforeSend:function(){void 0!==this.$button&&this.$button.$.button("loading"),this.disable()},_onComplete:function(){void 0!==this.$button&&this.$button.$.button("reset"),this.enable()},_onError:function(t,e){},_onSuccess:function(t){this.update(t);var e=this.$.offset()[e];$("html, body").animate({scrollTop:e-100},"slow")}}),o=my.Class(t,{constructor:function(t,e){o.Super.call(this,t,e),this.name="button",this.bind("click")},click:function(t,e){return this.context.submit(t),!1}});t.object("App.Form",s),t.object("App.Form.Ajax",i),t.object("App.Form.Ajax.Submit",o)}(JsB),function(t){var s=my.Class(t,{constructor:function(t,e){s.Super.call(this,t,e),this.offset=this.$.attr("data-jsb-offset")||250,this.duration=this.$.attr("data-jsb-duration")||500,this.bind("click");var i=this;$(window).scroll(function(){$(this).scrollTop()>i.offset?i.$.fadeIn(i.duration):i.$.fadeOut(i.duration)})},click:function(t){return t.preventDefault(),this.root.$.animate({scrollTop:0},this.duration),!1}}),i=my.Class(t,{constructor:function(t,e){i.Super.call(this,t,e),this.bind("click")},click:function(t){return this.selected()?this.deselect():this.select(),!1},select:function(){i.Super.prototype.select.call(this),this.$.addClass("off"),this.parent.$panel.show()},deselect:function(){i.Super.prototype.deselect.call(this),this.$.removeClass("off"),this.parent.$panel.hide()}}),o=my.Class(t,{constructor:function(t,e){o.Super.call(this,t,e),this.iconClass=this.$.attr("class")},value:function(t){t?(this.$.removeClass(this.iconClass).addClass("fa fa-warning"),this.$.attr("data-original-title",t).tooltip({container:"body"})):(this.$.removeClass("fa fa-warning").addClass(this.iconClass),this.$.attr("data-original-title",""))}}),a=my.Class(t,{constructor:function(t,e){a.Super.call(this,t,e),this.$.tooltip({container:"body",title:this.$.attr("title")})}}),n=my.Class(t,{constructor:function(t,e){n.Super.call(this,t,e);this.root.queue.push(function(){$.cookie&&"1"===$.cookie("sidebar_closed")&&app.getViewPort().width>=app.getResponsiveBreakpoint("md")&&this.close()})},isClosed:function(){return this.root.$.hasClass("page-sidebar-closed")},open:function(){this.root.$.removeClass("page-sidebar-closed"),this.$.removeClass("page-sidebar-menu-closed"),$.cookie&&$.cookie("sidebar_closed","0")},close:function(){this.root.$.addClass("page-sidebar-closed"),this.$.addClass("page-sidebar-menu-closed"),$.cookie&&$.cookie("sidebar_closed","1")},toogle:function(){this.isClosed()?this.open():this.close()}}),r=my.Class(t,{constructor:function(t,e){r.Super.call(this,t,e),this.bind("click")},click:function(t){t.preventDefault(),this.root.$sidebar.toogle(),$(window).trigger("resize")}});t.object("Top",s),t.object("Icon",o),t.object("Tooltip",a),t.object("App.Sidebar",n),t.object("App.Toogle",r),t.object("App.Search.Button",i)}(JsB),function(t){var s=my.Class(t,{constructor:function(t,e){s.Super.call(this,t,e),this.url=this.$.attr("data-url"),this.metric=this.$.attr("data-metric"),this.profile=this.$.attr("data-profile"),this.options={grid:{hoverable:!0,clickable:!0,tickColor:"#eee",borderColor:"#eee",borderWidth:1},xaxis:{tickLength:0,tickDecimals:0,mode:"categories",min:0,font:{lineHeight:14,style:"normal",variant:"small-caps",color:"#6F7B8A"}},yaxis:{ticks:5,tickDecimals:0,tickColor:"#eee",font:{lineHeight:14,style:"normal",variant:"small-caps",color:"#6F7B8A"}}};var i=this;this.root.queue.push(function(){i.reload()})},reload:function(t){var o=this,e={metric:this.metric,profile:this.profile,date:this.root.$dashboard.$daterange.value()};$.ajax({type:"POST",url:this.url,data:e,dataType:"json",beforeSend:function(){o.root.blockUI(o.context,{animate:!0})},error:function(t,e){o.root.unblockUI(o.context)},complete:function(){o.root.unblockUI(o.context)},success:function(t){$.plot(o.$,[{data:t,lines:{fill:.6,lineWidth:0},color:["#f89f9f"]},{data:t,points:{show:!0,fill:!0,radius:5,fillColor:"#f89f9f",lineWidth:3},color:"#fff",shadowSize:0}],o.options);var s=null;o.$.bind("plothover",function(t,e,i){if($("#x").text(e.x.toFixed(2)),$("#y").text(e.y.toFixed(2)),i){if(s!=i.dataIndex){s=i.dataIndex,$("#tooltip").remove();i.datapoint[0].toFixed(2),i.datapoint[1].toFixed(2);o.show_tooltip(i.pageX,i.pageY,i.datapoint[0],i.datapoint[1])}}else $("#tooltip").remove(),s=null})}})},show_tooltip:function(t,e,i,s){$('<div id="tooltip" class="chart-tooltip">'+s+"</div>").css({position:"absolute",display:"none",top:e-40,left:t-40,border:"0px solid #ccc",padding:"2px 6px","background-color":"#fff"}).appendTo("body").fadeIn(200)}}),i=my.Class(t,{constructor:function(t,e){i.Super.call(this,t,e),this.bind("click")},click:function(){this.context.$body.$chart.metric=this.$.find("input").val(),this.context.$body.$chart.reload()}}),o=my.Class(t,{constructor:function(t,e){o.Super.call(this,t,e),this.bind("click")},click:function(){this.context.$body.$chart.profile=this.name,this.context.$body.$chart.reload()}}),a=my.Class(t,{constructor:function(t,e){a.Super.call(this,t,e);var i=this;this.url=this.$.attr("data-url"),this.metric=this.$.attr("data-metric"),this.profile=this.$.attr("data-profile"),this.root.queue.push(function(){i.reload()})},reload:function(){var o=this,t={metric:this.metric,profile:this.profile,date:this.root.$dashboard.$daterange.value()};$.ajax({type:"POST",url:this.url,data:t,dataType:"json",beforeSend:function(){o.root.blockUI(o.context,{animate:!0})},error:function(t,e){o.root.unblockUI(o.context)},complete:function(){o.root.unblockUI(o.context)},success:function(t){var e=o.toArray();for(var i in e){var s=e[i];null!=s&&s.update(t[i][value],t[i][text])}}})}}),n=my.Class(t,{constructor:function(t,e){n.Super.call(this,t,e);var i=this;this.root.queue.push(function(){i.$.easyPieChart({animate:1e3,size:75,lineWidth:3,barColor:i.$.attr("data-color")})})},update:function(t,e){this.$.data("easyPieChart").update(t),$("span",this.$).text(t),this.$.parent().find("a.title").text(e)}});t.object("App.Chart",s),t.object("App.Chart.Metric",i),t.object("App.Chart.Profile",o),t.object("App.PieChart",a),t.object("App.PieChart.Object",n)}(JsB),function(t){var i=my.Class(t,{constructor:function(t,e){i.Super.call(this,t,e),this.table=null,this.source=this.$.attr("data-source")||null;var o=this;this.root.queue.push(function(){sorting=[],void 0!==o[$selectAll]&&sorting.push(0),void 0!==o[$actions]&&sorting.push(o.get_columns_number()),o.table=o.$.dataTable({aaSorting:[],sServerMethod:"POST",sAjaxSource:o.source,pagingType:"bootstrap_full_number",bProcessing:!0,bServerSide:!0,bAutoWidth:!1,bDeferRender:!0,bStateSave:!0,iDisplayLength:10,language:{url:"/datatables.json"},aoColumnDefs:[{bSortable:!1,aTargets:sorting}],fnDrawCallback:function(t){e.$.find(".dataTables_filter input").addClass("form-control input-small input-inline"),e.$.find(".dataTables_length select").addClass("form-control input-xsmall")},fnRowCallback:function(t,e,i){var s=$(t).attr("id");void 0!==o["$"+s]&&o.dettach(o["$"+s]),o.attach(t)}}),o.table.find(".group-checkable").change(function(){var t=$('tbody > tr > td:nth-child(1) input[type="checkbox"]',this.$),e=jQuery(this).is(":checked");jQuery(t).each(function(){e?($(this).prop("checked",!0),$(this).parents("tr").addClass("active")):($(this).prop("checked",!1),$(this).parents("tr").removeClass("active"))})}),o.table.on("change","tbody tr .checkboxes",function(){$(this).parents("tr").toggleClass("active")})})},reload:function(){var t=this.parent;app.blockUI(t,{animate:!0}),this.table._fnAjaxUpdate({sEcho:this.table.sEcho});var e=$('thead > tr > th:nth-child(1) input[type="checkbox"]');void 0!==e&&$(e).prop("checked",!1),window.setTimeout(function(){app.unblockUI(t)},1e3)},get_columns_number:function(){return this.$.find("thead>tr:first th").length-1},delete_row:function(t){var e=this,i=this.context.parent;$.ajax({type:"GET",url:t,dataType:"json",beforeSend:function(){app.blockUI(i,{animate:!0})},error:function(t,e){alert(e)},complete:function(){app.unblockUI(i)},success:function(t){e.table._fnAjaxUpdate(),e.update(t)}})},notification:function(t){app.notification(t[0],t[1])},getRowsSelected:function(){var t=[];return $('tbody > tr > td:nth-child(1) input[type="checkbox"]:checked',this.$).each(function(){t.push({name:$(this).attr("name"),value:$(this).val(),filename:$(this).attr("filename"),url:$(this).attr("data-url")})}),t}}),s=my.Class(t,{constructor:function(t,e){s.Super.call(this,t,e),this.bind("click")},click:function(){var e=this;return bootbox.confirm(this.$.attr("data-text"),function(t){t&&e.context.delete_row(e.$.attr("data-url"))}),!1}});t.object("App.DataTable",i),t.object("App.DataTable.Delete",s)}(JsB),function(t){var i=my.Class(t,{constructor:function(t,e){i.Super.call(this,t,e),this.$.fancybox({groupAttr:"data-rel",prevEffect:"none",nextEffect:"none",closeBtn:!0,helpers:{title:{type:"inside"}}})}});t.object("App.Fancybox",i)}(JsB),function(t){var s=my.Class(t.object("Input"),{constructor:function(t,e){s.Super.call(this,t,e),this.name="category",this.min=2,this.delay=0,this.timeout=null;var i=this;this.context.bind("mouseleave",function(){i.context.$results.hide()}),this.bind("focus",function(){""!=this.value()&&i.context.$results.show()}),this.bind("keydown")},keydown:function(t){var e=this,i=t.keyCode;this.value();switch(i){case 38:t.preventDefault(),e.context.$results.previous();break;case 40:t.preventDefault(),e.context.$results.next();break;default:clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.search()},this.delay)}},search:function(){var t=this.value().replace(/[\\]+|[\/]+/g,"").length;this.min<=t?this._load():this.context.$results.hide()},_load:function(){var e=this;$.ajax({type:"POST",url:this.$.attr("data-jsb-url"),data:{q:this.value()},dataType:"json",beforeSend:function(){e.$.addClass("spinner")},complete:function(){e.$.removeClass("spinner")},error:function(){e.$.removeClass("spinner")},success:function(t){e.context.$results.update(t),e.context.$results.$.show()}})}}),o=my.Class(t,{constructor:function(t,e){o.Super.call(this,t,e),this.name="results";var i=this.context.$category.$.outerWidth();this.$.width(i)},next:function(){var t=this.selected(!0)[0],e=t?t.next():0;!e&&0<this.length&&(e=0),this.select(e)},previous:function(){var t=this.selected(!0)[0],e=t?t.previous():this.length-1;!e&&0<this.length&&(e=this.length-1),this.select(e)}}),i=my.Class(t.object("Input"),{constructor:function(t,e){i.Super.call(this,t,e),this.name="field"},update:function(){var t,e=[],i=this.context.$container.toArray();for(t in i){var s=i[t];"object"==typeof s&&this.isPrimary?e.push({value:s.name,primary:s.selected()}):"object"==typeof s&&e.push(s.name)}e.length<=0?this.$.val(""):this.value(e)},value:function(t){if(t&&0<t.length)i.Super.prototype.value.call(this,JSON.stringify(t));else if(t=i.Super.prototype.value.call(this))return JSON.parse(t);return 1},reset:function(t){i.Super.prototype.reset.call(this),this.context.$category.reset(),this.context.$results.hide(),t&&this.context.$container.empty()}}),a=my.Class(t,{constructor:function(t,e){a.Super.call(this,t,e),this.bind("mouseover"),this.bind("click")},mouseover:function(t){t.preventDefault(),this.parent.select(this)},click:function(t){return t.preventDefault(),this.context.$container.update({name:this.name,$name:this.$name.$.text(),$path:this.$path.$.text()}),this.context.$category.reset(),this.context.$results.hide(),!1}}),n=my.Class(t,{constructor:function(t,e){n.Super.call(this,t,e);var i=this;this.name="container",this.root.queue.push(function(){i.update(i.context.$field.value())})},update:function(t){var e=[];if(t instanceof Array)e=t;else{if("object"!=typeof t)return;e.push(t)}n.Super.prototype.update.call(this,e),this.context.$field.update(),this.show()},dettach:function(t){n.Super.prototype.dettach.call(this,t),this.context.$field.update(),0==this.length&&this.hide()},swap:function(t,e){n.Super.prototype.swap.call(this,t,e),this.context.$field.update()}}),r=my.Class(t,{constructor:function(t,e){r.Super.call(this,t,e)},select:function(){this.$primary.$.children("i").removeClass("glyphicon-star-empty"),this.$primary.$.children("i").addClass("glyphicon-star"),r.Super.prototype.select.call(this)},deselect:function(){this.$primary.$.children("i").removeClass("glyphicon-star"),this.$primary.$.children("i").addClass("glyphicon-star-empty"),r.Super.prototype.deselect.call(this)}}),l=my.Class(t,{constructor:function(t,e){l.Super.call(this,t,e),this.name="delete",this.bind("click")},click:function(t){var e=this.parent;return e.parent.dettach(e),!1}}),c=my.Class(t,{constructor:function(t,e){c.Super.call(this,t,e),this.name="up",this.bind("click")},click:function(t){var e=this.parent,i=e.previous();return e.parent.swap(e,i),!1}}),u=my.Class(t,{constructor:function(t,e){u.Super.call(this,t,e),this.name="down",this.bind("click")},click:function(t){var e=this.parent,i=e.next();return e.parent.swap(e,i),!1}}),e=my.Class(t,{constructor:function(t,e){u.Super.call(this,t,e),this.name="primary",this.bind("click")},click:function(t){return this.parent.selected()?this.parent.parent.deselect(this.parent):this.parent.parent.select(this.parent),this.context.$field.update(),!1}});t.object("App.Category.Selector",s),t.object("App.Category.Field",i),t.object("App.Category.Results",o),t.object("App.Category.Results.Item",a),t.object("App.Category.Container",n),t.object("App.Category.Container.Item",r),t.object("App.Category.Delete",l),t.object("App.Category.Up",c),t.object("App.Category.Down",u),t.object("App.Category.Primary",e)}(JsB),function(t){var i=my.Class(t.object("Input"),{constructor:function(t,e){i.Super.call(this,t,e)},update:function(){var t=[],e=this.parent.$items.toArray();for(var i in e){var s=e[i],o={$time:s.$time.$.text(),$duration:s.$duration.$.text(),$plan:s.$plan.$.text()};"object"==typeof s&&(this.isMultiple?t.push(o):t=o)}t.length<=0?this.$.val(""):this.value(t)},value:function(t){if(t&&0<t.length)t instanceof Array?i.Super.prototype.value.call(this,JSON.stringify(t)):i.Super.prototype.value.call(this,t);else if(t=i.Super.prototype.value.call(this))return JSON.parse(t);return 1},reset:function(){i.Super.prototype.reset.call(this),this.parent.$items.empty()}}),s=my.Class(t,{constructor:function(t,e){s.Super.call(this,t,e),this.bind("click")},click:function(t){return t.preventDefault(),this.context.$items.update({$time:this.context.$time.value(),$duration:this.context.$duration.value(),$plan:this.context.$plan.value()}),this.context.$time.value(""),this.context.$duration.value(""),this.context.$plan.value(""),!1}}),o=my.Class(t,{constructor:function(t,e){o.Super.call(this,t,e);var i=this;this.root.queue.push(function(){i.update(i.parent.$field.value())})},update:function(t){var e=[];if(t instanceof Array)e=t;else{if("object"!=typeof t)return;e.push(t)}o.Super.prototype.update.call(this,e),this.parent.$field.update()},dettach:function(t){o.Super.prototype.dettach.call(this,t),this.parent.$field.update()},swap:function(t,e){o.Super.prototype.swap.call(this,t,e),this.parent.$field.update(),this[0].select()}}),a=my.Class(t,{constructor:function(t,e){a.Super.call(this,t,e),this.bind("click")},click:function(t){var e=this.parent;return e.parent.dettach(e),!1}}),n=my.Class(t,{constructor:function(t,e){n.Super.call(this,t,e),this.name="up",this.bind("click")},click:function(t){var e=this.parent,i=e.previous();return e.parent.swap(e,i),!1}}),r=my.Class(t,{constructor:function(t,e){r.Super.call(this,t,e),this.name="down",this.bind("click")},click:function(t){var e=this.parent,i=e.next();return e.parent.swap(e,i),!1}});t.object("App.Timeline.Field",i),t.object("App.Timeline.Save",s),t.object("App.Timeline.Items",o),t.object("App.Timeline.Items.Delete",a),t.object("App.Timeline.Up",n),t.object("App.Timeline.Down",r)}(JsB),function(t){var i=my.Class(t.object("Input"),{constructor:function(t,e){i.Super.call(this,t,e)},update:function(){var t=[],e=this.parent.$files.toArray();for(var i in e){var s=e[i],o=s.$filename.$.text();"object"==typeof s&&(this.isMultiple?t.push(o):t=o)}t.length<=0?this.$.val(""):this.value(t)},value:function(t){if(t&&0<t.length)t instanceof Array?i.Super.prototype.value.call(this,JSON.stringify(t)):i.Super.prototype.value.call(this,t);else if(t=i.Super.prototype.value.call(this))return JSON.parse(t);return 1},reset:function(){i.Super.prototype.reset.call(this),this.parent.$files.empty()}}),s=my.Class(t,{constructor:function(t,e){s.Super.call(this,t,e),this.bind("click")},click:function(t){this.parent.$files[0].$delete.click()}}),o=my.Class(t,{constructor:function(t,e){o.Super.call(this,t,e)},show:function(){this.$.removeClass("display-hide")},hide:function(){this.$.addClass("display-hide")}}),a=my.Class(t,{constructor:function(t,e){a.Super.call(this,t,e);var i=this;this.root.queue.push(function(){i.update(i.parent.$field.value())})},update:function(t){var e=[];if(t instanceof Array)e=t;else{if("object"!=typeof t)return;e.push(t)}a.Super.prototype.update.call(this,e),this.parent.$field.update()},dettach:function(t){a.Super.prototype.dettach.call(this,t),this.parent.$field.update()},swap:function(t,e){a.Super.prototype.swap.call(this,t,e),this.parent.$field.update(),this[0].select()}}),n=my.Class(t,{constructor:function(t,e){n.Super.call(this,t,e),this.bind("click")},click:function(t){var e=this.parent;return e.parent.dettach(e),!1}}),r=my.Class(t,{constructor:function(t,e){r.Super.call(this,t,e),this.name="up",this.bind("click")},click:function(t){var e=this.parent,i=e.previous();return e.parent.swap(e,i),!1}}),l=my.Class(t,{constructor:function(t,e){l.Super.call(this,t,e),this.name="down",this.bind("click")},click:function(t){var e=this.parent,i=e.next();return e.parent.swap(e,i),!1}});t.object("App.Upload.Field",i),t.object("App.Upload.Delete",s),t.object("App.Upload.Progress",o),t.object("App.Upload.Files",a),t.object("App.Upload.Files.Delete",n),t.object("App.Upload.Up",r),t.object("App.Upload.Down",l)}(JsB),function(s){var o=my.Class(s,{constructor:function(t,e){o.Super.call(this,t,e);var i=this;this.root.queue.push(function(){i.$.ckeditor(function(){},{language:s.APP_LANGUAGE,toolbarStartupExpanded:!0,startupShowBorders:!0,startupOutlineBlocks:!0}),CKEDITOR.on("instanceReady",function(t){t.editor.dataProcessor.htmlFilter.addRules({elements:{$:function(t){"img"==t.name&&(t.addClass("img-responsive"),t.attributes.style="",t.attributes.style||delete t.attributes.style),"table"==t.name&&(t.addClass("table table-responsive"),t.attributes.style="",t.attributes.style||delete t.attributes.style)}}})})})},ckeditor:function(){return this.$.ckeditorGet()},value:function(){return this.$.val()},disable:function(){},enable:function(){},update:function(t){this.ckeditor().setData(t)}});s.object("App.Wysiwyg",o)}(JsB),function(t){var s=my.Class(t,{constructor:function(t,e){s.Super.call(this,t,e);var i=this;this.caller=e,this.root.queue.push(function(){i.$.modal({show:!1}).on("shown.bs.modal",function(t){i.show(t)})})},open:function(t){this.caller=t,this.$.modal("show")},show:function(t){return!1},hide:function(t){this.$.modal("hide")}});t.object("App.Modal",s)}(JsB),function(t){var s=my.Class(t,{constructor:function(t,e){s.Super.call(this,t,e);var i=this;this.root.queue.push(function(){i.$.pulsate({color:"#66bce6",repeat:15})})}});t.object("App.Notification.Pulsate",s)}(JsB),function(t){var s=my.Class(t,{constructor:function(t,e){s.Super.call(this,t,e);var i=this;this.root.queue.push(function(){i.uploader=new plupload.Uploader({runtimes:"html5,flash,html4",browse_button:document.getElementById("tab_images_uploader_pickfiles"),container:document.getElementById("tab_images_uploader_container"),url:i.$.attr("data-jsb-url"),init:{PostInit:function(){$("#tab_images_uploader_filelist").html(""),$("#tab_images_uploader_uploadfiles").click(function(){return i.uploader.start(),!1}),$("#tab_images_uploader_filelist").on("click",".added-files .remove",function(){i.uploader.removeFile($(this).parent(".added-files").attr("id")),$(this).parent(".added-files").remove()})},FilesAdded:function(t,e){plupload.each(e,function(t){$("#tab_images_uploader_filelist").append('<div class="alert alert-warning added-files" id="uploaded_file_'+t.id+'">'+t.name+" ("+plupload.formatSize(t.size)+') <span class="status label label-info"></span>&nbsp;<a href="javascript:;" style="margin-top:-5px" class="remove pull-right btn btn-sm red"><i class="fa fa-times"></i> remover</a></div>')})},UploadProgress:function(t,e){$("#uploaded_file_"+e.id+" > .status").html(e.percent+"%")},FileUploaded:function(t,e,i){if((i=$.parseJSON(i.response)).result&&1==i.result){i.id;$("#uploaded_file_"+e.id+" > .status").removeClass("label-info").addClass("label-success").html('<i class="fa fa-check"></i> Completo')}else $("#uploaded_file_"+e.id+" > .status").removeClass("label-info").addClass("label-danger").html('<i class="fa fa-warning"></i> Falhou'),app.notification(i[0],i[1])},Error:function(t,e){app.notification(t,e)},UploadComplete:function(){$("#tab_images_uploader_filelist").html(""),i.context.$reload.click()}}}),i.uploader.init()})}});t.object("App.PlupUpload",s)}(JsB),function(t){var i=my.Class(t,{constructor:function(t,e){i.Super.call(this,t,e)}}),s=my.Class(t,{constructor:function(t,e){s.Super.call(this,t,e),this.bind("click"),this.$.tooltip({container:"body",title:this.$.attr("title")})},click:function(t){return t.preventDefault(),this.selected()?this.deselect():this.select(),!1},select:function(){s.Super.prototype.select.call(this),this.$.removeClass("collapse").addClass("expand"),this.context.$body.$.slideUp(200)},deselect:function(){s.Super.prototype.deselect.call(this),this.$.removeClass("expand").addClass("collapse"),this.context.$body.$.slideDown(200)}}),o=my.Class(t,{constructor:function(t,e){o.Super.call(this,t,e),this.bind("click"),this.$.tooltip({container:"body",title:this.$.attr("title")})},click:function(){return void 0!==this.context.$body[$table]?this.context.$body.$table.reload():void 0!==this.context.$body[$chart]?this.context.$body.$chart.reload():this.context.$body.reload(),!1}}),a=my.Class(t,{constructor:function(t,e){a.Super.call(this,t,e),this.bind("click"),this.$.tooltip({container:"body",title:this.$.attr("title")})},click:function(t){return t.preventDefault(),this.root.dettach(this.context),!1}}),n=my.Class(t,{constructor:function(t,e){n.Super.call(this,t,e)},execute:function(t,e){var i=this,s=this.context.parent;$.ajax({type:"POST",url:t,dataType:"json",data:e,beforeSend:function(){app.blockUI(s)},error:function(){},complete:function(){app.unblockUI(s)},success:function(t){i.context.$body.$table.table._fnAjaxUpdate(),i.update(t)}})},notification:function(t){app.notification(t[0],t[1])}}),r=my.Class(n,{constructor:function(t,e){r.Super.call(this,t,e),this.bind("click")},click:function(t){var s=this;return bootbox.confirm(this.$.attr("data-text"),function(t){if(t){var e={},i=s.context.context.$body.$table.getRowsSelected();void 0!==i&&(e[rows]=i),s.context.execute(s.$.attr("data-url"),e)}}),!1}});t.object("App.Portlet",i),t.object("App.Portlet.Collapse",s),t.object("App.Portlet.Reload",o),t.object("App.Portlet.Remove",a),t.object("App.Portlet.Actions",n),t.object("App.Portlet.Actions.Action",r)}(JsB),function(t){var s=my.Class(t,{constructor:function(t,e){s.Super.call(this,t,e),this.height=0,this.alwaysVisible=!1;var i=this;this.root.queue.push(function(){i.height=i.$.attr("data-height")?i.$.attr("data-height"):i.$.css("height"),i.alwaysVisible=!!i.$.attr("data-always-visible"),i.$.slimScroll({size:"7px",color:"#a1b2bd",position:"right",railVisible:!0,height:i.height,alwaysVisible:i.alwaysVisible})})},scrollTo:function(t){this.$.slimScroll({scrollTo:t+"px"})}});t.object("App.Scroll",s)}(JsB),function(t){var s=my.Class(t,{constructor:function(t,e){s.Super.call(this,t,e);var i=this;this.root.queue.push(function(){i.$.jstree({core:{themes:{responsive:!0},check_callback:!0,data:{url:function(t){return"/categories/index/"+("#"!=t.id?t.id:1)+".json"},data:function(t){return{selected:i.$.attr("data-jsb-category")}}}},types:{default:{icon:"fa fa-folder icon-state-warning icon-lg"}},plugins:["types"]}).on("loaded.jstree",function(t,e){}).delegate("a","click",function(t){window.location=t.currentTarget.href})})},reload:function(t){this.$.jstree("refresh",t)}});t.object("App.Tree",s)}(JsB),function(t){var s=my.Class(t,{constructor:function(t,e){s.Super.call(this,t,e),this.url=this.$.attr("data-url");var i=this;this.root.queue.push(function(){i.reload()})},reload:function(){var e=this,t={date:this.root.$dashboard.$daterange.value()};$.ajax({type:"POST",url:this.url,dataType:"json",data:t,beforeSend:function(){},error:function(t,e){},complete:function(){},success:function(t){e.update(t)}})}}),i=my.Class(t,{constructor:function(t,e){i.Super.call(this,t,e)},update:function(t){this.$.attr("data-value",t),this.$.counterUp({delay:10,time:1e3})}});t.object("App.DashBoard.Statistics",s),t.object("App.DashBoard.Statistics.Element",i)}(JsB);var Layout=function(){function c(){var t,e=$(".page-content"),i=$(".page-sidebar"),s=$("body");if(!0===s.hasClass("page-footer-fixed")&&!1===s.hasClass("page-sidebar-fixed")){var o=app.getViewPort().height-$(".page-footer").outerHeight()-$(".page-header").outerHeight();e.height()<o&&e.attr("style","min-height:"+o+"px")}else{if(s.hasClass("page-sidebar-fixed"))t=r(),!1===s.hasClass("page-footer-fixed")&&(t-=$(".page-footer").outerHeight());else{var a=$(".page-header").outerHeight(),n=$(".page-footer").outerHeight();(t=app.getViewPort().width<app.getResponsiveBreakpoint("md")?app.getViewPort().height-a-n:i.height()+20)+a+n<=app.getViewPort().height&&(t=app.getViewPort().height-a-n)}e.attr("style","min-height:"+t+"px")}}var r=function(){var t=app.getViewPort().height-$(".page-header").outerHeight(!0);return $("body").hasClass("page-footer-fixed")&&(t-=$(".page-footer").outerHeight()),t},t=function(){var t=$("body");t.hasClass("page-sidebar-fixed")&&$(".page-sidebar").on("mouseenter",function(){t.hasClass("page-sidebar-closed")&&$(this).find(".page-sidebar-menu").removeClass("page-sidebar-menu-closed")}).on("mouseleave",function(){t.hasClass("page-sidebar-closed")&&$(this).find(".page-sidebar-menu").addClass("page-sidebar-menu-closed")})};return{initSidebar:function(){$(".page-sidebar-menu").on("click","li > a.nav-toggle, li > a > span.nav-toggle",function(t){var e=$(this).closest(".nav-item").children(".nav-link");if(!(app.getViewPort().width>=app.getResponsiveBreakpoint("md")&&!$(".page-sidebar-menu").attr("data-initialized")&&$("body").hasClass("page-sidebar-closed")&&1===e.parent("li").parent(".page-sidebar-menu").length)){var i=e.next().hasClass("sub-menu");if(!(app.getViewPort().width>=app.getResponsiveBreakpoint("md")&&1===e.parents(".page-sidebar-menu-hover-submenu").length))if(!1!==i){var s=e.parent().parent(),o=e,a=$(".page-sidebar-menu"),n=e.next(),r=a.data("auto-scroll"),l=parseInt(a.data("slide-speed"));a.data("keep-expanded")||(s.children("li.open").children("a").children(".arrow").removeClass("open"),s.children("li.open").children(".sub-menu:not(.always-open)").slideUp(l),s.children("li.open").removeClass("open"));n.is(":visible")?($(".arrow",o).removeClass("open"),o.parent().removeClass("open"),n.slideUp(l,function(){!0===r&&!1===$("body").hasClass("page-sidebar-closed")&&($("body").hasClass("page-sidebar-fixed")?a.slimScroll({scrollTo:o.position().top}):app.scrollTo(o,-200)),c()})):i&&($(".arrow",o).addClass("open"),o.parent().addClass("open"),n.slideDown(l,function(){!0===r&&!1===$("body").hasClass("page-sidebar-closed")&&($("body").hasClass("page-sidebar-fixed")?a.slimScroll({scrollTo:o.position().top}):app.scrollTo(o,-200)),c()})),t.preventDefault()}else app.getViewPort().width<app.getResponsiveBreakpoint("md")&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click()}}),$(document).on("click",".page-header-fixed-mobile .page-header .responsive-toggler",function(){App.scrollTop()}),t(),$(".page-sidebar").on("click",".sidebar-search .remove",function(t){t.preventDefault(),$(".sidebar-search").removeClass("open")}),$(".sidebar-search .submit").on("click",function(t){t.preventDefault(),$("body").hasClass("page-sidebar-closed")&&!1===$(".sidebar-search").hasClass("open")?(1===$(".page-sidebar-fixed").length&&$(".page-sidebar .sidebar-toggler").click(),$(".sidebar-search").addClass("open")):$(".sidebar-search").submit()}),0!==$(".sidebar-search").length&&($(".sidebar-search .input-group").on("click",function(t){t.stopPropagation()}),$("body").on("click",function(){$(".sidebar-search").hasClass("open")&&$(".sidebar-search").removeClass("open")}))},initContent:function(){$(".full-height-content").each(function(){var t,e=$(this);if(t=app.getViewPort().height-$(".page-header").outerHeight(!0)-$(".page-footer").outerHeight(!0)-$(".page-title").outerHeight(!0)-$(".page-bar").outerHeight(!0),e.hasClass("portlet")){var i=e.find(".portlet-body");t=t-e.find(".portlet-title").outerHeight(!0)-parseInt(e.find(".portlet-body").css("padding-top"))-parseInt(e.find(".portlet-body").css("padding-bottom"))-5,i.css("min-height",t)}else e.css("min-height",t)}),$("body").on("shown.bs.tab",'a[data-toggle="tab"]',function(){c()})},init:function(){this.initSidebar(),this.initContent()},fixContentHeight:function(){c()},initFixedSidebar:function(){handleFixedSidebar()}}}();jQuery(document).ready(function(){Layout.init(),Layout.fixContentHeight()}),function(t){var i=my.Class(t,{constructor:function(t,e){i.Super.call(this,t,e)},select:function(){i.Super.prototype.select.call(this),this.$login.$.slideUp(200),this.$forget.$.slideDown(200)},deselect:function(){i.Super.prototype.deselect.call(this),this.$forget.$.slideUp(200),this.$login.$.slideDown(200)}}),s=my.Class(t.object("App.Form.Ajax"),{constructor:function(t,e){s.Super.call(this,t,e)},_beforeSend:function(){this.$fields.$button.$.button("loading"),this.disable()},_onComplete:function(){this.$fields.$button.$.button("reset"),this.enable()}}),o=my.Class(t,{constructor:function(t,e){o.Super.call(this,t,e),this.bind("click")},click:function(t,e){this.root.$login.selected()?this.root.$login.deselect():this.root.$login.select();return!1}});t.object("App.Login",i),t.object("App.Login.Navigation",o),t.object("App.Form.Ajax.Login",s)}(JsB),function(t){var s=my.Class(t.object("App.Modal"),{constructor:function(t,e){s.Super.call(this,t,e),this.params={},this.values=[]},show:function(t){this.values=[],s.Super.prototype.show.call(this,t)},hide:function(t){if(this.params={},this.values instanceof Array&&this.values.length)for(var e in this.values){var i=this.values[e];this.caller.parent.$files.update({$filename:i.$title.$.attr("filename"),$open:{href:i.$link.$.attr("href")}})}s.Super.prototype.hide.call(this,t)},open:function(t){this.$content.$assets.$form.clear(),s.Super.prototype.open.call(this,t)}}),i=my.Class(t,{constructor:function(t,e){i.Super.call(this,t,e),this.bind("click")},click:function(t){return t.preventDefault(),void 0!==this.isImage&&this.isImage&&(app.$upload.params={name:"type",value:"image"}),void 0!==this.isVideo&&this.isVideo&&(app.$upload.params={name:"type",value:"video"}),app.$upload.open(this)}}),o=my.Class(t,{constructor:function(t,e){o.Super.call(this,t,e),this.bind("click")},click:function(t){return t.preventDefault(),this.context.values=this.parent.$assets.$results.selected(!0),this.context.hide(t)}}),a=my.Class(t,{constructor:function(t,e){a.Super.call(this,t,e)}}),n=my.Class(t.object("App.Form.Ajax"),{constructor:function(t,e){n.Super.call(this,t,e),this.name="form"},submit:function(t){n.Super.prototype.submit.call(this,t,app.$upload.params)},_beforeSend:function(){this.context.$more.hide(),n.Super.prototype._beforeSend.call(this)},_onSuccess:function(t){this.context.update(t)},addPage:function(t){this.$page.value(parseInt(this.$page.value())+1)},clear:function(){this.$fields.$search.$clear.click()},reset:function(){this.$page.value(1)}}),r=my.Class(t.object("Select2"),{constructor:function(t,e){r.Super.call(this,t,e)},change:function(t){return this.context.submit(t),!1}}),l=my.Class(t.object("App.Form.Ajax.Submit"),{constructor:function(t,e){l.Super.call(this,t,e)},click:function(t){return this.context.reset(),this.context.parent.$results.empty(),l.Super.prototype.click.call(this,t)}}),c=my.Class(t.object("App.Form.Ajax.Submit"),{constructor:function(t,e){c.Super.call(this,t,e),this.name="clear"},click:function(t){return this.context.reset(),this.context.parent.$results.empty(),this.context.$fields.$search.$field.reset(),this.context.$fields.$orderBy.$field.reset(),this.context.$fields.$orderDir.$field.reset(),c.Super.prototype.click.call(this,t)}}),u=my.Class(t,{constructor:function(t,e){u.Super.call(this,t,e)},update:function(t){var e=this.length,i=0<e?e-1:0;if(u.Super.prototype.update.call(this,t),0!=this.length){var s=this.context.context.$content,o=this[i],a=this[this.length-1],n=a.$.offset().top+a.$.height(),r=o.$.offset().top+o.$.height(),l=s.$.scrollTop()+(n-r);0!=i&&s.scrollTo(l)}}}),h=my.Class(t,{constructor:function(t,e){h.Super.call(this,t,e),this.bind("click")},click:function(t){return t.preventDefault(),this.toggle("select","deselect"),!1},select:function(){h.Super.prototype.select.call(this.parent)},deselect:function(){h.Super.prototype.deselect.call(this.parent)}}),p=my.Class(t,{constructor:function(t,e){p.Super.call(this,t,e),this.bind("click")},click:function(t){return this.context.$form.addPage(),this.context.$form.submit(),!1}});t.object("App.Modal.Assets",s),t.object("App.Modal.Assets.Open",i),t.object("App.Modal.Assets.Save",o),t.object("App.Modal.Assets.Form",n),t.object("App.Modal.Assets.Form.Select",r),t.object("App.Modal.Assets.Form.Search",l),t.object("App.Modal.Assets.Form.Clear",c),t.object("App.Modal.Assets.Results",u),t.object("App.Modal.Assets.Results.Item",h),t.object("App.Modal.Assets.Results.More",p)}(JsB);